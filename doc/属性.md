
# Lumos 属性

Lumos 属性是用于修饰变量、函数和类的特殊语法，用于指定它们的特定行为或属性。<br>
Lumos 的属性以 `@` 符号开头，后面跟着属性的名称和可选的参数。<br>
`@属性名(参数列表)`<br>

属性名与变量名等名称不同，可以包含 `- + ! ?` 等符号。

## 通用属性

### 可见性

- `@public`: 声明变量或函数或类为公共的，可以被外部访问
- `@private`: 声明变量或函数为私有的，只能被当前类访问
- `@protected`: 声明变量或函数为受保护的，可以被当前类和子类访问
- `@hidden`: 类似 C 语言中的 static，将函数的可见性限制在当前编译单元内。

- `@deprecated(消息)`: 标记变量、函数或类为已废弃的，提供一个提示消息说明替代方案或原因。
- `@deleted(消息)`: 标记变量、函数或类为已删除的，提供一个提示消息说明替代方案或原因。

> `消息` 的格式应当为字符串

## 函数属性

### 多态

- `@vitural`: 声明函数为虚函数，用于实现多态。<br>
  也可以标记类为虚类，其中的虚函数均不可被定义而应该被其派生类定义。
- `@override`: 声明函数为重写函数，用于实现多态。<br>
  这要求基类中必须有对应的虚函数。
- `@final`: 声明函数为最终函数，禁止重写。

### -

- `@const`: 声明函数为常量函数，表明函数不依赖也不会修改任何外部状态。
- `@pure`: 声明函数为纯函数，表明函数不依赖任何外部状态（除了传入指针指向的内存）也不会修改任何外部状态。

  **注意：常量表达式不算外部状态**

- `@noreturn`: 声明函数不会返回。

- `@nothrow`: 声明函数不会抛出异常。

- `@nonull(参数名列表)`: 声明函数的参数不会为 null。参数名列表是一个逗号分隔的参数名称列表。

- `@constexpr`: 声明函数为编译时常量表达式，可以在编译时求值。

- `@inline`: 强制内联函数，使函数在调用处展开，而不是 C 那样的建议内联。
  
- `@threadlocal`: 声明变量为线程局部变量，每个线程都会有一份独立的副本。

- `@restrict(参数名列表)`: 声明函数的参数是限定指针，指针之间没有重叠。

## 变量属性

- `@align(对齐数)`: 声明变量按照指定的对齐数对齐。

### 示例

```lumos
@const
fn square(int x) -> int {
  return x * x;
}

@nothrow
@inline
fn add(int a, int b) = a + b;

@hidden
fn helper(int x) -> int {
  // implementation
}
```
